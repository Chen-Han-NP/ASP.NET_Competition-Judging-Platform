@model IEnumerable<GameTime.Models.CompetitorSubmissionViewModel>
@{
}


<div style="text-align:center">
    <h2>@ViewData["CompetitionName"]</h2>
</div>

<div>
    <a asp-action="Index">Back to List</a>
</div>



@if (Model.ToList().Count > 0)
{

    @if ((string)TempData["hasVoted"] == "false")
    {
        <h4>You have 1 vote</h4>
    }
    else
    {
        <h4>You have voted to @TempData["votedTo"].</h4>
    }
    <div class="table-responsive">
        <table id="viewCompetitors" class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th>Name</th>
                    <th>Work Submitted</th>
                    <th>Vote Count</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Salutation @item.CompetitorName</td>
                        <td><a href="">@item.FileSubmitted</a></td>
                        <td>@item.VoteCount.ToString()</td>
                        <td>

                            @if ((string)TempData["hasVoted"] == "false")
                            {
                                <a asp-action="Vote" asp-controller="ViewCompetition"
                                   asp-route-CompetitorId="@item.CompetitorId"
                                   asp-route-CompetitorName="@item.CompetitorName"
                                   asp-route-CompetitionId="@item.CompetitionId"
                                   asp-route-CompetitionName="@ViewData["CompetitionName"]">
                                    Vote
                                </a>
                            }
                            else
                            {
                                <a>Vote</a>
                            }



                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

}


else

            {
    <h3>Currently no competitor taking part in this competition yet!</h3>
            }
